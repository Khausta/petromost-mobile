{"version":3,"file":"order.js","names":["addDDL","element","querySelector","addEventListener","arrow","content","style","maxHeight","closeContent","openContent","contentBlock","arrowIcon","scrollHeight","opacity","classList","add","remove","ableBtn","btn","document","concat","removeAttribute","disableBtn","setAttribute","cutter","text","subheader","cutText","length","slice","innerText","contactsData","userName","userPhone","userEmail","headerText","addressSection","addressContent","addressArrow","addressIputs","querySelectorAll","forEach","el","validElements","continueBtns","_loop","i","commentContent","commentArrow","value","validBLock","nextContent","currentBlock","previousElementSibling","currentBlockContent","currentBlockArrow","contains","userAddressInput","timeDeliveryData","day","time","footerText","expressFooterText","footerTextElement","dayInputs","timeInputs","expressDeliveryHendler","changeTexts","expressBlock","payMethodInputs","paySubheader","nextElementSibling","contactsInputs","validOptions","validatePhone","phone","re","test","String","addErrorStyle","validateName","inputName","setTimeout","addPhoneMask","input","IMask","mask","validatedInputs","commentBlock","isValid"],"sources":["order.js"],"sourcesContent":["\r\n// Обработка открытия контента dropdownlist способом\r\nfunction addDDL(element) {\r\n    element.querySelector('.ddl').addEventListener('click', () => {\r\n        const arrow = element.querySelector(`.ddl__icon`);\r\n        const content = element.querySelector(`.ddl__content`);\r\n   \r\n        if (content.style.maxHeight) {\r\n          closeContent(content, arrow);\r\n        } else {\r\n          openContent(content, arrow);\r\n        }\r\n      })\r\n  \r\n    \r\n  }\r\n  \r\n  function openContent(contentBlock, arrowIcon) {\r\n    contentBlock.style.maxHeight = contentBlock.scrollHeight + 'px';\r\n    contentBlock.style.opacity = 1;\r\n    arrowIcon.classList.add('__js-opened');\r\n  }\r\n  function closeContent(contentBlock, arrowIcon) {\r\n    contentBlock.style.maxHeight = null;\r\n    contentBlock.style.opacity = null;\r\n    arrowIcon.classList.remove('__js-opened');\r\n  }\r\n\r\n  \r\n  function ableBtn(btn) {\r\n    document.querySelector(`${btn}`).removeAttribute('disabled');\r\n\r\n  }\r\n  function disableBtn(btn) {\r\n    document.querySelector(`${btn}`).setAttribute('disabled', true);\r\n  }\r\n\r\n  function cutter(text, subheader) {\r\n    let cutText;\r\n    if (text.length > 28) {\r\n      cutText = text.slice(0, 27)  + '...';\r\n    } else {\r\n      cutText = text;\r\n    }\r\n      subheader.innerText =  cutText;\r\n  }\r\n\r\n  const contactsData = {\r\n    userName: '',\r\n    userPhone: '',\r\n    userEmail: '',\r\n    headerText: document.querySelector('#user-contacts-text'),\r\n  }\r\n\r\n\r\n\r\n  //order\r\n  // сначала делаем стили для первого блока выбора адреса, \r\n  // так как он по умолчанию открыт сразу\r\n  const addressSection = document.querySelector('.address-choice'),\r\n        addressContent = addressSection.querySelector('.ddl__content'),\r\n        addressArrow = addressSection.querySelector('.ddl__icon'),\r\n   \r\n        addressIputs = document.querySelectorAll('[name=\"user-address\"]');\r\n  \r\n  disableBtn('#address-btn');\r\n  openContent(addressContent, addressArrow);\r\n  addDDL(addressSection);\r\n  addressIputs.forEach(el => {\r\n    el.addEventListener('change', () => {\r\n      ableBtn('#address-btn');\r\n    })\r\n  })\r\n\r\n\r\n\r\n// блоки, которые требуют выполнения определённых условий для открытия\r\n  const validElements = document.querySelectorAll('.valid-el');\r\n\r\n  if(validElements) {\r\n    validElements.forEach(el => {\r\n      el.classList.add('_js-disabled');\r\n    })\r\n  }\r\n  \r\n  // Обработчик события клика на кнопки Продолжить\r\n  const continueBtns = document.querySelectorAll('.btn-contain');\r\n\r\n  for (let i = 0; i < continueBtns.length; i++) {\r\n    // исключение для кнопки \"Продолжить\" блока комментария\r\n    if(i == continueBtns.length - 1) {\r\n      continueBtns[i].addEventListener('click', () => {\r\n        document.querySelector('#accept-order-btn').classList.remove('_disabled');\r\n        const commentContent = validElements[i-1].querySelector('.ddl__content');\r\n        const commentArrow = validElements[i-1].querySelector('.ddl__icon');\r\n        const text = document.querySelector('#comment-area').value;\r\n        cutter(text, document.querySelector('#comment-p'));\r\n        closeContent(commentContent, commentArrow);\r\n      })\r\n      break;\r\n    }\r\n\r\n    const validBLock = validElements[i];\r\n    const nextContent = validBLock.querySelector('.ddl__content');\r\n    const arrow =  validBLock.querySelector('.ddl__icon');\r\n    const currentBlock = validBLock.previousElementSibling;\r\n    const currentBlockContent = currentBlock.querySelector('.ddl__content');\r\n    const currentBlockArrow =  currentBlock.querySelector('.ddl__icon');\r\n\r\n    continueBtns[i].addEventListener('click', () => {\r\n      if(currentBlock.classList.contains('user-data')) {\r\n        cutter(`${contactsData.userName} ${contactsData.userPhone} ${contactsData.userEmail}`, contactsData.headerText);\r\n      }\r\n      closeContent(currentBlockContent, currentBlockArrow);\r\n\r\n      validBLock.classList.remove('_js-disabled');\r\n      nextContent.style.maxHeight = nextContent.scrollHeight + 'px';\r\n      nextContent.style.opacity = 1;\r\n      arrow.classList.add('__js-opened');\r\n      addDDL(validBLock);\r\n    })\r\n  }\r\n  \r\n  // обработчик инпута адреса на странице Оформления заказа\r\n  const userAddressInput = document.querySelector('[name=\"user-address\"]');\r\n  userAddressInput.addEventListener('change', () => {\r\n    document.querySelector('#address-choice__current').innerText = userAddressInput.value;\r\n  })\r\n  \r\n  // обработка изменений инпутов выбора времени страницы Оформление заказа\r\n  const timeDeliveryData = {\r\n    content:  document.querySelector('.time').querySelector('.ddl__content'),\r\n    day: 'сегодня',\r\n    time: '',\r\n    footerText: 'Минимальная сумма заказа для БЕСПЛАТНОЙ доставки составляет 250 рублей',\r\n    expressFooterText: 'Стоимость - 249 рублей. Экспресс доставка - доставка от 30 минут в звисимости от объема заказа и адреса доставки',\r\n    headerText: document.querySelector('#delivery-time'),\r\n    footerTextElement: document.querySelector('#min-sum-text'),\r\n    dayInputs: document.querySelectorAll('[name=\"day\"]'),\r\n    timeInputs: document.querySelectorAll('[name=\"time\"]'),\r\n    expressDeliveryHendler: function () {\r\n      timeDeliveryData.headerText.innerText = 'Экспрес доставка от 30 минут - 249 рублей';\r\n        timeDeliveryData.headerText.classList.add('_js-add-zipper-before');\r\n        timeDeliveryData.footerTextElement.innerText = timeDeliveryData.expressFooterText;\r\n        timeDeliveryData.content.style.maxHeight =  timeDeliveryData.content.scrollHeight + 'px';\r\n    },\r\n    changeTexts: function() {\r\n      timeDeliveryData.headerText.innerText = `Ожидайте заказ ${timeDeliveryData.day} ${timeDeliveryData.time}`\r\n      timeDeliveryData.footerTextElement.innerText = timeDeliveryData.footerText;\r\n      timeDeliveryData.content.style.maxHeight =  timeDeliveryData.content.scrollHeight + 'px';\r\n    }\r\n\r\n  }\r\n  \r\n  const expressBlock = document.querySelector('._js-express-block');\r\n\r\n  timeDeliveryData.dayInputs.forEach(el => {\r\n    el.addEventListener('change', () => {\r\n     \r\n      if(expressBlock && el.value == 'сегодня') {\r\n          expressBlock.classList.add('_visible');\r\n      } else {\r\n        if (expressBlock)  expressBlock.classList.remove('_visible');\r\n         \r\n      }\r\n      if(el.classList.contains('_js-express-delivery')) {\r\n        timeDeliveryData.expressDeliveryHendler();\r\n        return;\r\n      }\r\n      timeDeliveryData.day = el.value;\r\n      timeDeliveryData.headerText.classList.remove('_js-add-zipper-before'); \r\n\r\n      if(timeDeliveryData.day && timeDeliveryData.time) {\r\n        timeDeliveryData.changeTexts();\r\n      }\r\n      \r\n    })\r\n  })\r\n  \r\n  timeDeliveryData.timeInputs.forEach(el => {\r\n    el.addEventListener('change', () => {\r\n      ableBtn('#time-btn');\r\n      if(el.classList.contains('_js-express-delivery')) {\r\n        timeDeliveryData.expressDeliveryHendler();\r\n        return;\r\n      }\r\n      timeDeliveryData.time = el.value;\r\n      timeDeliveryData.headerText.classList.remove('_js-add-zipper-before');\r\n      if(timeDeliveryData.day && timeDeliveryData.time) {\r\n        timeDeliveryData.changeTexts();\r\n      }\r\n    })\r\n  })\r\n\r\n  //Обработка изменений инпутов при выборе способа оплаты\r\n  const payMethodInputs = document.querySelectorAll('[name=\"pay-method\"]');\r\n  const paySubheader = document.querySelector('#pay-subheader');\r\n\r\n  payMethodInputs.forEach(el => {\r\n    el.addEventListener('change', () => {\r\n      ableBtn('#pay-btn');\r\n      paySubheader.innerText = el.nextElementSibling.innerText;\r\n    })\r\n  })\r\n  \r\n  \r\n  // Обработка изменнений инпутов контактных данных польхователя\r\n  // Валидация полей Имени пользователя и Номера телефона\r\n \r\n  const contactsInputs = document.querySelectorAll('.white-box__user-input ');\r\n  contactsInputs.forEach(el => {\r\n    el.addEventListener('input', () => {\r\n      if (el == document.querySelector('[name=\"user-name\"]')) {\r\n        contactsData.userName = el.value;\r\n      }\r\n      if (el == document.querySelector('[name=\"user-phone\"]')) {\r\n        contactsData.userPhone = el.value;\r\n      }\r\n      if (el == document.querySelector('[name=\"user-email\"]')) {\r\n        contactsData.userEmail = el.value;\r\n      }\r\n    })\r\n  })\r\n  \r\n  \r\n  const validOptions = {\r\n    \r\n    validatePhone(phone) {\r\n      const re = /\\+7\\s\\([0-9]{3}\\)\\s[0-9]{3}-[0-9]{2}-[0-9]{2}/;\r\n      if (!re.test(String(phone.value))) {\r\n        this.addErrorStyle(phone);\r\n        return false;\r\n      } else {\r\n        return true;\r\n      }\r\n    },\r\n  \r\n    validateName(inputName) {\r\n          if (inputName.value === \"\") {\r\n            this.addErrorStyle(inputName);\r\n            return false;\r\n          } \r\n          return true;\r\n    },\r\n  \r\n    addErrorStyle(element) {\r\n      element.classList.add('js-error');\r\n      setTimeout(() => {\r\n        element.classList.remove('js-error');\r\n      }, 3000);\r\n    },\r\n  \r\n    addPhoneMask(input) {\r\n      new IMask(input, {\r\n        mask: \"+{7} (000) 000-00-00\"\r\n      });\r\n    }\r\n  }\r\n  \r\n\r\n\r\n  const validatedInputs = document.querySelectorAll('._js-input-required');\r\n  validOptions.addPhoneMask(validatedInputs[1]);\r\n  validatedInputs.forEach(el => {\r\n    const commentBlock = document.querySelector('.comment');\r\n    let isValid = false;\r\n    el.addEventListener('input', () => {\r\n      isValid = validOptions.validateName(validatedInputs[0]) \r\n              && validOptions.validatePhone(validatedInputs[1]);\r\n\r\n      if (isValid) {\r\n        ableBtn('#contacts-btn');\r\n   \r\n        if (!commentBlock.classList.contains('_js-disabled')) {\r\n          document.querySelector('#accept-order-btn').classList.remove('_disabled');\r\n        }\r\n        \r\n      } else {\r\n        document.querySelector('#accept-order-btn').classList.add('_disabled');\r\n        disableBtn('#contacts-btn');\r\n      }\r\n    });\r\n  })\r\n"],"mappings":";;AACA;AACA,SAASA,MAAMA,CAACC,OAAO,EAAE;EACrBA,OAAO,CAACC,aAAa,CAAC,MAAM,CAAC,CAACC,gBAAgB,CAAC,OAAO,EAAE,YAAM;IAC1D,IAAMC,KAAK,GAAGH,OAAO,CAACC,aAAa,aAAa,CAAC;IACjD,IAAMG,OAAO,GAAGJ,OAAO,CAACC,aAAa,gBAAgB,CAAC;IAEtD,IAAIG,OAAO,CAACC,KAAK,CAACC,SAAS,EAAE;MAC3BC,YAAY,CAACH,OAAO,EAAED,KAAK,CAAC;IAC9B,CAAC,MAAM;MACLK,WAAW,CAACJ,OAAO,EAAED,KAAK,CAAC;IAC7B;EACF,CAAC,CAAC;AAGN;AAEA,SAASK,WAAWA,CAACC,YAAY,EAAEC,SAAS,EAAE;EAC5CD,YAAY,CAACJ,KAAK,CAACC,SAAS,GAAGG,YAAY,CAACE,YAAY,GAAG,IAAI;EAC/DF,YAAY,CAACJ,KAAK,CAACO,OAAO,GAAG,CAAC;EAC9BF,SAAS,CAACG,SAAS,CAACC,GAAG,CAAC,aAAa,CAAC;AACxC;AACA,SAASP,YAAYA,CAACE,YAAY,EAAEC,SAAS,EAAE;EAC7CD,YAAY,CAACJ,KAAK,CAACC,SAAS,GAAG,IAAI;EACnCG,YAAY,CAACJ,KAAK,CAACO,OAAO,GAAG,IAAI;EACjCF,SAAS,CAACG,SAAS,CAACE,MAAM,CAAC,aAAa,CAAC;AAC3C;AAGA,SAASC,OAAOA,CAACC,GAAG,EAAE;EACpBC,QAAQ,CAACjB,aAAa,IAAAkB,MAAA,CAAIF,GAAG,CAAE,CAAC,CAACG,eAAe,CAAC,UAAU,CAAC;AAE9D;AACA,SAASC,UAAUA,CAACJ,GAAG,EAAE;EACvBC,QAAQ,CAACjB,aAAa,IAAAkB,MAAA,CAAIF,GAAG,CAAE,CAAC,CAACK,YAAY,CAAC,UAAU,EAAE,IAAI,CAAC;AACjE;AAEA,SAASC,MAAMA,CAACC,IAAI,EAAEC,SAAS,EAAE;EAC/B,IAAIC,OAAO;EACX,IAAIF,IAAI,CAACG,MAAM,GAAG,EAAE,EAAE;IACpBD,OAAO,GAAGF,IAAI,CAACI,KAAK,CAAC,CAAC,EAAE,EAAE,CAAC,GAAI,KAAK;EACtC,CAAC,MAAM;IACLF,OAAO,GAAGF,IAAI;EAChB;EACEC,SAAS,CAACI,SAAS,GAAIH,OAAO;AAClC;AAEA,IAAMI,YAAY,GAAG;EACnBC,QAAQ,EAAE,EAAE;EACZC,SAAS,EAAE,EAAE;EACbC,SAAS,EAAE,EAAE;EACbC,UAAU,EAAEhB,QAAQ,CAACjB,aAAa,CAAC,qBAAqB;AAC1D,CAAC;;AAID;AACA;AACA;AACA,IAAMkC,cAAc,GAAGjB,QAAQ,CAACjB,aAAa,CAAC,iBAAiB,CAAC;EAC1DmC,cAAc,GAAGD,cAAc,CAAClC,aAAa,CAAC,eAAe,CAAC;EAC9DoC,YAAY,GAAGF,cAAc,CAAClC,aAAa,CAAC,YAAY,CAAC;EAEzDqC,YAAY,GAAGpB,QAAQ,CAACqB,gBAAgB,CAAC,uBAAuB,CAAC;AAEvElB,UAAU,CAAC,cAAc,CAAC;AAC1Bb,WAAW,CAAC4B,cAAc,EAAEC,YAAY,CAAC;AACzCtC,MAAM,CAACoC,cAAc,CAAC;AACtBG,YAAY,CAACE,OAAO,CAAC,UAAAC,EAAE,EAAI;EACzBA,EAAE,CAACvC,gBAAgB,CAAC,QAAQ,EAAE,YAAM;IAClCc,OAAO,CAAC,cAAc,CAAC;EACzB,CAAC,CAAC;AACJ,CAAC,CAAC;;AAIJ;AACE,IAAM0B,aAAa,GAAGxB,QAAQ,CAACqB,gBAAgB,CAAC,WAAW,CAAC;AAE5D,IAAGG,aAAa,EAAE;EAChBA,aAAa,CAACF,OAAO,CAAC,UAAAC,EAAE,EAAI;IAC1BA,EAAE,CAAC5B,SAAS,CAACC,GAAG,CAAC,cAAc,CAAC;EAClC,CAAC,CAAC;AACJ;;AAEA;AACA,IAAM6B,YAAY,GAAGzB,QAAQ,CAACqB,gBAAgB,CAAC,cAAc,CAAC;AAAC,IAAAK,KAAA,YAAAA,MAAAC,CAAA,EAEjB;EAC5C;EACA,IAAGA,CAAC,IAAIF,YAAY,CAAChB,MAAM,GAAG,CAAC,EAAE;IAC/BgB,YAAY,CAACE,CAAC,CAAC,CAAC3C,gBAAgB,CAAC,OAAO,EAAE,YAAM;MAC9CgB,QAAQ,CAACjB,aAAa,CAAC,mBAAmB,CAAC,CAACY,SAAS,CAACE,MAAM,CAAC,WAAW,CAAC;MACzE,IAAM+B,cAAc,GAAGJ,aAAa,CAACG,CAAC,GAAC,CAAC,CAAC,CAAC5C,aAAa,CAAC,eAAe,CAAC;MACxE,IAAM8C,YAAY,GAAGL,aAAa,CAACG,CAAC,GAAC,CAAC,CAAC,CAAC5C,aAAa,CAAC,YAAY,CAAC;MACnE,IAAMuB,IAAI,GAAGN,QAAQ,CAACjB,aAAa,CAAC,eAAe,CAAC,CAAC+C,KAAK;MAC1DzB,MAAM,CAACC,IAAI,EAAEN,QAAQ,CAACjB,aAAa,CAAC,YAAY,CAAC,CAAC;MAClDM,YAAY,CAACuC,cAAc,EAAEC,YAAY,CAAC;IAC5C,CAAC,CAAC;IAAA;EAEJ;EAEA,IAAME,UAAU,GAAGP,aAAa,CAACG,CAAC,CAAC;EACnC,IAAMK,WAAW,GAAGD,UAAU,CAAChD,aAAa,CAAC,eAAe,CAAC;EAC7D,IAAME,KAAK,GAAI8C,UAAU,CAAChD,aAAa,CAAC,YAAY,CAAC;EACrD,IAAMkD,YAAY,GAAGF,UAAU,CAACG,sBAAsB;EACtD,IAAMC,mBAAmB,GAAGF,YAAY,CAAClD,aAAa,CAAC,eAAe,CAAC;EACvE,IAAMqD,iBAAiB,GAAIH,YAAY,CAAClD,aAAa,CAAC,YAAY,CAAC;EAEnE0C,YAAY,CAACE,CAAC,CAAC,CAAC3C,gBAAgB,CAAC,OAAO,EAAE,YAAM;IAC9C,IAAGiD,YAAY,CAACtC,SAAS,CAAC0C,QAAQ,CAAC,WAAW,CAAC,EAAE;MAC/ChC,MAAM,IAAAJ,MAAA,CAAIW,YAAY,CAACC,QAAQ,OAAAZ,MAAA,CAAIW,YAAY,CAACE,SAAS,OAAAb,MAAA,CAAIW,YAAY,CAACG,SAAS,GAAIH,YAAY,CAACI,UAAU,CAAC;IACjH;IACA3B,YAAY,CAAC8C,mBAAmB,EAAEC,iBAAiB,CAAC;IAEpDL,UAAU,CAACpC,SAAS,CAACE,MAAM,CAAC,cAAc,CAAC;IAC3CmC,WAAW,CAAC7C,KAAK,CAACC,SAAS,GAAG4C,WAAW,CAACvC,YAAY,GAAG,IAAI;IAC7DuC,WAAW,CAAC7C,KAAK,CAACO,OAAO,GAAG,CAAC;IAC7BT,KAAK,CAACU,SAAS,CAACC,GAAG,CAAC,aAAa,CAAC;IAClCf,MAAM,CAACkD,UAAU,CAAC;EACpB,CAAC,CAAC;AACJ,CAAC;AAjCD,KAAK,IAAIJ,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGF,YAAY,CAAChB,MAAM,EAAEkB,CAAC,EAAE;EAAA,IAAAD,KAAA,CAAAC,CAAA,GAWxC;AAAM;;AAwBV;AACA,IAAMW,gBAAgB,GAAGtC,QAAQ,CAACjB,aAAa,CAAC,uBAAuB,CAAC;AACxEuD,gBAAgB,CAACtD,gBAAgB,CAAC,QAAQ,EAAE,YAAM;EAChDgB,QAAQ,CAACjB,aAAa,CAAC,0BAA0B,CAAC,CAAC4B,SAAS,GAAG2B,gBAAgB,CAACR,KAAK;AACvF,CAAC,CAAC;;AAEF;AACA,IAAMS,gBAAgB,GAAG;EACvBrD,OAAO,EAAGc,QAAQ,CAACjB,aAAa,CAAC,OAAO,CAAC,CAACA,aAAa,CAAC,eAAe,CAAC;EACxEyD,GAAG,EAAE,SAAS;EACdC,IAAI,EAAE,EAAE;EACRC,UAAU,EAAE,wEAAwE;EACpFC,iBAAiB,EAAE,kHAAkH;EACrI3B,UAAU,EAAEhB,QAAQ,CAACjB,aAAa,CAAC,gBAAgB,CAAC;EACpD6D,iBAAiB,EAAE5C,QAAQ,CAACjB,aAAa,CAAC,eAAe,CAAC;EAC1D8D,SAAS,EAAE7C,QAAQ,CAACqB,gBAAgB,CAAC,cAAc,CAAC;EACpDyB,UAAU,EAAE9C,QAAQ,CAACqB,gBAAgB,CAAC,eAAe,CAAC;EACtD0B,sBAAsB,EAAE,SAAAA,uBAAA,EAAY;IAClCR,gBAAgB,CAACvB,UAAU,CAACL,SAAS,GAAG,2CAA2C;IACjF4B,gBAAgB,CAACvB,UAAU,CAACrB,SAAS,CAACC,GAAG,CAAC,uBAAuB,CAAC;IAClE2C,gBAAgB,CAACK,iBAAiB,CAACjC,SAAS,GAAG4B,gBAAgB,CAACI,iBAAiB;IACjFJ,gBAAgB,CAACrD,OAAO,CAACC,KAAK,CAACC,SAAS,GAAImD,gBAAgB,CAACrD,OAAO,CAACO,YAAY,GAAG,IAAI;EAC5F,CAAC;EACDuD,WAAW,EAAE,SAAAA,YAAA,EAAW;IACtBT,gBAAgB,CAACvB,UAAU,CAACL,SAAS,sFAAAV,MAAA,CAAqBsC,gBAAgB,CAACC,GAAG,OAAAvC,MAAA,CAAIsC,gBAAgB,CAACE,IAAI,CAAE;IACzGF,gBAAgB,CAACK,iBAAiB,CAACjC,SAAS,GAAG4B,gBAAgB,CAACG,UAAU;IAC1EH,gBAAgB,CAACrD,OAAO,CAACC,KAAK,CAACC,SAAS,GAAImD,gBAAgB,CAACrD,OAAO,CAACO,YAAY,GAAG,IAAI;EAC1F;AAEF,CAAC;AAED,IAAMwD,YAAY,GAAGjD,QAAQ,CAACjB,aAAa,CAAC,oBAAoB,CAAC;AAEjEwD,gBAAgB,CAACM,SAAS,CAACvB,OAAO,CAAC,UAAAC,EAAE,EAAI;EACvCA,EAAE,CAACvC,gBAAgB,CAAC,QAAQ,EAAE,YAAM;IAElC,IAAGiE,YAAY,IAAI1B,EAAE,CAACO,KAAK,IAAI,SAAS,EAAE;MACtCmB,YAAY,CAACtD,SAAS,CAACC,GAAG,CAAC,UAAU,CAAC;IAC1C,CAAC,MAAM;MACL,IAAIqD,YAAY,EAAGA,YAAY,CAACtD,SAAS,CAACE,MAAM,CAAC,UAAU,CAAC;IAE9D;IACA,IAAG0B,EAAE,CAAC5B,SAAS,CAAC0C,QAAQ,CAAC,sBAAsB,CAAC,EAAE;MAChDE,gBAAgB,CAACQ,sBAAsB,CAAC,CAAC;MACzC;IACF;IACAR,gBAAgB,CAACC,GAAG,GAAGjB,EAAE,CAACO,KAAK;IAC/BS,gBAAgB,CAACvB,UAAU,CAACrB,SAAS,CAACE,MAAM,CAAC,uBAAuB,CAAC;IAErE,IAAG0C,gBAAgB,CAACC,GAAG,IAAID,gBAAgB,CAACE,IAAI,EAAE;MAChDF,gBAAgB,CAACS,WAAW,CAAC,CAAC;IAChC;EAEF,CAAC,CAAC;AACJ,CAAC,CAAC;AAEFT,gBAAgB,CAACO,UAAU,CAACxB,OAAO,CAAC,UAAAC,EAAE,EAAI;EACxCA,EAAE,CAACvC,gBAAgB,CAAC,QAAQ,EAAE,YAAM;IAClCc,OAAO,CAAC,WAAW,CAAC;IACpB,IAAGyB,EAAE,CAAC5B,SAAS,CAAC0C,QAAQ,CAAC,sBAAsB,CAAC,EAAE;MAChDE,gBAAgB,CAACQ,sBAAsB,CAAC,CAAC;MACzC;IACF;IACAR,gBAAgB,CAACE,IAAI,GAAGlB,EAAE,CAACO,KAAK;IAChCS,gBAAgB,CAACvB,UAAU,CAACrB,SAAS,CAACE,MAAM,CAAC,uBAAuB,CAAC;IACrE,IAAG0C,gBAAgB,CAACC,GAAG,IAAID,gBAAgB,CAACE,IAAI,EAAE;MAChDF,gBAAgB,CAACS,WAAW,CAAC,CAAC;IAChC;EACF,CAAC,CAAC;AACJ,CAAC,CAAC;;AAEF;AACA,IAAME,eAAe,GAAGlD,QAAQ,CAACqB,gBAAgB,CAAC,qBAAqB,CAAC;AACxE,IAAM8B,YAAY,GAAGnD,QAAQ,CAACjB,aAAa,CAAC,gBAAgB,CAAC;AAE7DmE,eAAe,CAAC5B,OAAO,CAAC,UAAAC,EAAE,EAAI;EAC5BA,EAAE,CAACvC,gBAAgB,CAAC,QAAQ,EAAE,YAAM;IAClCc,OAAO,CAAC,UAAU,CAAC;IACnBqD,YAAY,CAACxC,SAAS,GAAGY,EAAE,CAAC6B,kBAAkB,CAACzC,SAAS;EAC1D,CAAC,CAAC;AACJ,CAAC,CAAC;;AAGF;AACA;;AAEA,IAAM0C,cAAc,GAAGrD,QAAQ,CAACqB,gBAAgB,CAAC,yBAAyB,CAAC;AAC3EgC,cAAc,CAAC/B,OAAO,CAAC,UAAAC,EAAE,EAAI;EAC3BA,EAAE,CAACvC,gBAAgB,CAAC,OAAO,EAAE,YAAM;IACjC,IAAIuC,EAAE,IAAIvB,QAAQ,CAACjB,aAAa,CAAC,oBAAoB,CAAC,EAAE;MACtD6B,YAAY,CAACC,QAAQ,GAAGU,EAAE,CAACO,KAAK;IAClC;IACA,IAAIP,EAAE,IAAIvB,QAAQ,CAACjB,aAAa,CAAC,qBAAqB,CAAC,EAAE;MACvD6B,YAAY,CAACE,SAAS,GAAGS,EAAE,CAACO,KAAK;IACnC;IACA,IAAIP,EAAE,IAAIvB,QAAQ,CAACjB,aAAa,CAAC,qBAAqB,CAAC,EAAE;MACvD6B,YAAY,CAACG,SAAS,GAAGQ,EAAE,CAACO,KAAK;IACnC;EACF,CAAC,CAAC;AACJ,CAAC,CAAC;AAGF,IAAMwB,YAAY,GAAG;EAEnBC,aAAa,WAAAA,cAACC,KAAK,EAAE;IACnB,IAAMC,EAAE,GAAG,+CAA+C;IAC1D,IAAI,CAACA,EAAE,CAACC,IAAI,CAACC,MAAM,CAACH,KAAK,CAAC1B,KAAK,CAAC,CAAC,EAAE;MACjC,IAAI,CAAC8B,aAAa,CAACJ,KAAK,CAAC;MACzB,OAAO,KAAK;IACd,CAAC,MAAM;MACL,OAAO,IAAI;IACb;EACF,CAAC;EAEDK,YAAY,WAAAA,aAACC,SAAS,EAAE;IAClB,IAAIA,SAAS,CAAChC,KAAK,KAAK,EAAE,EAAE;MAC1B,IAAI,CAAC8B,aAAa,CAACE,SAAS,CAAC;MAC7B,OAAO,KAAK;IACd;IACA,OAAO,IAAI;EACjB,CAAC;EAEDF,aAAa,WAAAA,cAAC9E,OAAO,EAAE;IACrBA,OAAO,CAACa,SAAS,CAACC,GAAG,CAAC,UAAU,CAAC;IACjCmE,UAAU,CAAC,YAAM;MACfjF,OAAO,CAACa,SAAS,CAACE,MAAM,CAAC,UAAU,CAAC;IACtC,CAAC,EAAE,IAAI,CAAC;EACV,CAAC;EAEDmE,YAAY,WAAAA,aAACC,KAAK,EAAE;IAClB,IAAIC,KAAK,CAACD,KAAK,EAAE;MACfE,IAAI,EAAE;IACR,CAAC,CAAC;EACJ;AACF,CAAC;AAID,IAAMC,eAAe,GAAGpE,QAAQ,CAACqB,gBAAgB,CAAC,qBAAqB,CAAC;AACxEiC,YAAY,CAACU,YAAY,CAACI,eAAe,CAAC,CAAC,CAAC,CAAC;AAC7CA,eAAe,CAAC9C,OAAO,CAAC,UAAAC,EAAE,EAAI;EAC5B,IAAM8C,YAAY,GAAGrE,QAAQ,CAACjB,aAAa,CAAC,UAAU,CAAC;EACvD,IAAIuF,OAAO,GAAG,KAAK;EACnB/C,EAAE,CAACvC,gBAAgB,CAAC,OAAO,EAAE,YAAM;IACjCsF,OAAO,GAAGhB,YAAY,CAACO,YAAY,CAACO,eAAe,CAAC,CAAC,CAAC,CAAC,IAC5Cd,YAAY,CAACC,aAAa,CAACa,eAAe,CAAC,CAAC,CAAC,CAAC;IAEzD,IAAIE,OAAO,EAAE;MACXxE,OAAO,CAAC,eAAe,CAAC;MAExB,IAAI,CAACuE,YAAY,CAAC1E,SAAS,CAAC0C,QAAQ,CAAC,cAAc,CAAC,EAAE;QACpDrC,QAAQ,CAACjB,aAAa,CAAC,mBAAmB,CAAC,CAACY,SAAS,CAACE,MAAM,CAAC,WAAW,CAAC;MAC3E;IAEF,CAAC,MAAM;MACLG,QAAQ,CAACjB,aAAa,CAAC,mBAAmB,CAAC,CAACY,SAAS,CAACC,GAAG,CAAC,WAAW,CAAC;MACtEO,UAAU,CAAC,eAAe,CAAC;IAC7B;EACF,CAAC,CAAC;AACJ,CAAC,CAAC","ignoreList":[]}