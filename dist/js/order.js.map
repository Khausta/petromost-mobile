{"version":3,"file":"order.js","names":["addDDL","element","querySelector","addEventListener","arrow","content","style","maxHeight","opacity","classList","remove","scrollHeight","add","addressSection","document","validElements","querySelectorAll","forEach","el","continueBtns","_loop","validBLock","i","nextContent","length","userAddressInput","innerText","value","timeDeliveryData","day","time","footerText","expressFooterText","headerText","footerTextElement","dayInputs","timeInputs","contains","concat","contactsData","userName","userPhone","userEmail","contactsInputs","console","log","validOptions","validatePhone","phone","re","test","String","addErrorStyle","validateName","inputName","setTimeout","addPhoneMask","input","IMask","mask","validatedInputs","isValid","removeAttribute","setAttribute"],"sources":["order.js"],"sourcesContent":["\r\n// Обработка открытия контента dropdownlist способом\r\nfunction addDDL(element) {\r\n \r\n    element.querySelector('.ddl').addEventListener('click', () => {\r\n        const arrow = element.querySelector(`.ddl__icon`);\r\n        const content = element.querySelector(`.ddl__content`);\r\n   \r\n        if (content.style.maxHeight) {\r\n          content.style.maxHeight = null;\r\n          content.style.opacity = null;\r\n          arrow.classList.remove('__js-opened');\r\n        } else {\r\n     \r\n          content.style.maxHeight = content.scrollHeight + 'px';\r\n          content.style.opacity = 1;\r\n          arrow.classList.add('__js-opened');\r\n        }\r\n      })\r\n  \r\n    \r\n  }\r\n  \r\n  //order\r\n  const addressSection = document.querySelector('.address-choice');\r\n  addDDL(addressSection);\r\n  const validElements = document.querySelectorAll('.valid-el');\r\n  \r\n  if(validElements) {\r\n    validElements.forEach(el => {\r\n      el.classList.add('_js-desabled');\r\n    })\r\n  }\r\n  \r\n  // Обработчик события клика на кнопки Продолжить\r\n  const continueBtns = document.querySelectorAll('.btn-contain');\r\n  for (let i = 0; i < continueBtns.length - 1; i++) {\r\n    const validBLock = validElements[i];\r\n    const nextContent = validBLock.querySelector('.ddl__content');\r\n    const arrow =  validBLock.querySelector('.ddl__icon');\r\n    continueBtns[i].addEventListener('click', () => {\r\n      validBLock.classList.remove('_js-desabled');\r\n      nextContent.style.maxHeight = nextContent.scrollHeight + 'px';\r\n      nextContent.style.opacity = 1;\r\n      arrow.classList.add('__js-opened');\r\n      addDDL(validBLock);\r\n    })\r\n  }\r\n  \r\n  // обработчик инпута адреса на странице Оформления заказа\r\n  const userAddressInput = document.querySelector('[name=\"user-address\"]');\r\n  userAddressInput.addEventListener('change', () => {\r\n    document.querySelector('#address-choice__current').innerText = userAddressInput.value;\r\n  })\r\n  \r\n  // обработка изменений инпутов выбора времени страницы Оформление заказа\r\n  const timeDeliveryData = {\r\n    content:  document.querySelector('.time').querySelector('.ddl__content'),\r\n    day: '',\r\n    time: '',\r\n    footerText: 'Минимальная сумма заказа для БЕСПЛАТНОЙ доставки составляет 250 рублей',\r\n    expressFooterText: 'Стоимость - 249 рублей. Экспресс доставка - доставка от 30 минут в звисимости от объема заказа и адреса доставки',\r\n    headerText: document.querySelector('#delivery-time'),\r\n    footerTextElement: document.querySelector('#min-sum-text'),\r\n    dayInputs: document.querySelectorAll('[name=\"day\"]'),\r\n    timeInputs: document.querySelectorAll('[name=\"time\"]'),\r\n  }\r\n  \r\n  timeDeliveryData.dayInputs.forEach(el => {\r\n    el.addEventListener('change', () => {\r\n      if(el.classList.contains('_js-express-delivery')) {\r\n        timeDeliveryData.headerText.innerText = 'Экспрес доставка от 30 минут - 249 рублей';\r\n        timeDeliveryData.headerText.classList.add('_js-add-zipper-before');\r\n        timeDeliveryData.footerTextElement.innerText = timeDeliveryData.expressFooterText;\r\n        timeDeliveryData.content.style.maxHeight =  timeDeliveryData.content.scrollHeight + 'px';\r\n        return;\r\n      }\r\n      timeDeliveryData.day = el.value;\r\n      timeDeliveryData.headerText.classList.remove('_js-add-zipper-before');\r\n      timeDeliveryData.headerText.innerText = 'Выберите удобное время получения заказа';\r\n  \r\n      if(timeDeliveryData.day && timeDeliveryData.time) {\r\n        timeDeliveryData.headerText.innerText = `Ожидайте заказ ${timeDeliveryData.day} ${timeDeliveryData.time}`\r\n        timeDeliveryData.footerTextElement.innerText = timeDeliveryData.footerText;\r\n        timeDeliveryData.content.style.maxHeight =  timeDeliveryData.content.scrollHeight + 'px';\r\n      }\r\n    })\r\n  })\r\n  \r\n  timeDeliveryData.timeInputs.forEach(el => {\r\n    el.addEventListener('change', () => {\r\n  \r\n      if(el.classList.contains('_js-express-delivery')) {\r\n        timeDeliveryData.headerText.innerText = 'Экспрес доставка от 30 минут - 249 рублей';\r\n        timeDeliveryData.headerText.classList.add('_js-add-zipper-before');\r\n        timeDeliveryData.footerTextElement.innerText = timeDeliveryData.expressFooterText;\r\n        timeDeliveryData.content.style.maxHeight =  timeDeliveryData.content.scrollHeight + 'px';\r\n        return;\r\n      }\r\n      timeDeliveryData.time = el.value;\r\n      timeDeliveryData.headerText.classList.remove('_js-add-zipper-before');\r\n      timeDeliveryData.headerText.innerText = 'Выберите удобное время получения заказа';\r\n  \r\n      if(timeDeliveryData.day && timeDeliveryData.time) {\r\n        timeDeliveryData.headerText.innerText = `Ожидайте заказ ${timeDeliveryData.day} ${timeDeliveryData.time}`\r\n        timeDeliveryData.footerTextElement.innerText = timeDeliveryData.footerText;\r\n        timeDeliveryData.content.style.maxHeight =  timeDeliveryData.content.scrollHeight + 'px';\r\n      }\r\n    })\r\n  })\r\n  \r\n  \r\n  // Обработка изменнений инпутов контактных данных польхователя\r\n  // Валидация полей Имени пользователя и Номера телефона\r\n  const contactsData = {\r\n    userName: '',\r\n    userPhone: '',\r\n    userEmail: '',\r\n    headerText: document.querySelector('#user-contacts-text'),\r\n  }\r\n  \r\n  const contactsInputs = document.querySelectorAll('.white-box__user-input ');\r\n  contactsInputs.forEach(el => {\r\n    el.addEventListener('input', () => {\r\n      if (el == document.querySelector('[name=\"user-name\"]')) {\r\n        contactsData.userName = el.value;\r\n        console.log(el.value);\r\n       console.log(contactsData);\r\n      }\r\n  \r\n      if (el == document.querySelector('[name=\"user-phone\"]')) {\r\n        contactsData.userPhone = el.value;\r\n        console.log(contactsData);\r\n      }\r\n  \r\n      if (el == document.querySelector('[name=\"user-email\"]')) {\r\n        contactsData.userEmail = el.value;\r\n        console.log(contactsData);\r\n  \r\n      }\r\n  \r\n      if (contactsData.userName && contactsData.userPhone) {\r\n        contactsData.headerText.innerText = `${contactsData.userName} ${contactsData.userPhone} ${contactsData.userEmail}`\r\n      }\r\n    })\r\n  })\r\n  \r\n  \r\n  const validOptions = {\r\n    \r\n    validatePhone(phone) {\r\n      const re = /\\+7\\s\\([0-9]{3}\\)\\s[0-9]{3}-[0-9]{2}-[0-9]{2}/;\r\n      if (!re.test(String(phone.value))) {\r\n        this.addErrorStyle(phone);\r\n        return false;\r\n      } else {\r\n        return true;\r\n      }\r\n    },\r\n  \r\n    validateName(inputName) {\r\n          if (inputName.value === \"\") {\r\n            this.addErrorStyle(inputName);\r\n            return false;\r\n          } \r\n          return true;\r\n    },\r\n  \r\n    addErrorStyle(element) {\r\n      element.classList.add('js-error');\r\n      setTimeout(() => {\r\n        element.classList.remove('js-error');\r\n      }, 3000);\r\n    },\r\n  \r\n    addPhoneMask(input) {\r\n      new IMask(input, {\r\n        mask: \"+{7} (000) 000-00-00\"\r\n      });\r\n    }\r\n  }\r\n  \r\n  const validatedInputs = document.querySelectorAll('._js-input-required');\r\n  validOptions.addPhoneMask(validatedInputs[1])\r\n  validatedInputs.forEach(el => {\r\n    let isValid = false;\r\n    el.addEventListener('input', () => {\r\n     \r\n  \r\n      isValid = validOptions.validateName(validatedInputs[0]) \r\n          && validOptions.validatePhone(validatedInputs[1]);\r\n  \r\n          if (isValid) {\r\n            document.querySelector('._js-btn-valid').removeAttribute('desabled');\r\n          } else {\r\n            document.querySelector('._js-btn-valid').setAttribute('desabled', true);\r\n          }\r\n    });\r\n  \r\n  \r\n  })"],"mappings":"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","ignoreList":[]}