{"version":3,"file":"sliders.js","names":["bannerSwiper","Swiper","spaceBetween","slidesPerView","loop","pagination","el","clickable","mainCardSwiper","activeCardBlock","document","querySelector","disactiveCardInfo","on","slides","activeIndex","classList","contains","add","remove","bullets1","bullets2","lastIndex1","lastIndex2","timerLastSlideId1","timerLastSlideId2","oldIndex1","oldIndex2","closeWeeks","closeCashback","addEventListener","storyPopupSwiper1","autoplay","stop","storyPopupSwiper2","delay","init","length","bullets","slideChange","checkProgress","setTimeout","closeStory1","clearTimeout","closeStory2","currentSwiper","currentBullets","oldIndex","i","slideTo","click","weeksBtn","start","cashbackBtn","infoSwiper","loopFillGroupWithBlank","pathSwiper","centeredSlides","slidersCount","chanceSwiper","navigation","nextEl"],"sources":["sliders.js"],"sourcesContent":["const bannerSwiper = new Swiper('.banner-swiper', {\r\n    spaceBetween: '2%',\r\n    slidesPerView: 'auto',\r\n    loop: true,\r\n    pagination: {\r\n      el: \".banner-pagination\",\r\n      clickable: true,\r\n    },\r\n  });\r\n\r\n  const mainCardSwiper = new Swiper('.main-card-swiper', {\r\n    spaceBetween: '2%',\r\n    slidesPerView: 'auto',\r\n  });\r\n\r\n  const activeCardBlock = document.querySelector('.js-active-card-block');\r\n  const disactiveCardInfo = document.querySelector('.js-disactive-card-info');\r\n  //если будет много карт, можно изменить слушатель\r\n  mainCardSwiper.on('slideChange', function () {\r\n    if ((mainCardSwiper.slides[mainCardSwiper.activeIndex]).classList.contains('js-blocked-card')) {\r\n      activeCardBlock.classList.add('js-hide-block');\r\n      disactiveCardInfo.classList.remove('js-hide-block');\r\n    } else {\r\n      activeCardBlock.classList.remove('js-hide-block');\r\n      disactiveCardInfo.classList.add('js-hide-block');\r\n    }\r\n  });\r\n\r\n  \r\n  let bullets1 = null;\r\n  let bullets2 = null;\r\n  let lastIndex1 = null;\r\n  let lastIndex2 = null;\r\n  \r\n  let timerLastSlideId1 = null;  \r\n  let timerLastSlideId2 = null;  \r\n  let oldIndex1 = 0;\r\n  let oldIndex2 = 0;\r\n\r\n  const closeWeeks = document.querySelector('.close-promotions-week');\r\n  const closeCashback = document.querySelector('.close-promotions-cashback');\r\n\r\n  if (closeWeeks) {\r\n    closeWeeks.addEventListener('click', () => {\r\n      bullets1[storyPopupSwiper1.activeIndex].classList.remove('story-viewed');\r\n      bullets1[storyPopupSwiper1.activeIndex].classList.remove('swiper-pagination-bullet-active');\r\n      storyPopupSwiper1.autoplay.stop();\r\n    })  \r\n  }\r\n  \r\n  if (closeCashback) {\r\n    closeCashback.addEventListener('click', () => {\r\n      bullets2[storyPopupSwiper2.activeIndex].classList.remove('story-viewed');\r\n      bullets2[storyPopupSwiper2.activeIndex].classList.remove('swiper-pagination-bullet-active');\r\n      storyPopupSwiper2.autoplay.stop();\r\n    })\r\n  }\r\n\r\n\r\n  const storyPopupSwiper1 = new Swiper('.story-swiper-1', {\r\n    spaceBetween: '4%',\r\n    slidesPerView: 'auto',\r\n    autoplay: {\r\n      delay: 5000,\r\n    },\r\n    pagination: {\r\n      el: \".story-pagination-1\",\r\n      clickable: true,\r\n    },\r\n    on: {\r\n      init: function () {\r\n        lastIndex1 = this.slides.length - 1;\r\n        this.autoplay.stop();\r\n        bullets1 = this.pagination.bullets;\r\n        bullets1[this.activeIndex].classList.remove('swiper-pagination-bullet-active');\r\n      },\r\n      slideChange: function () {\r\n        checkProgress(this, this.pagination.bullets, oldIndex1);\r\n        oldIndex1 = this.activeIndex;\r\n        if (this.activeIndex == lastIndex1) {\r\n          timerLastSlideId1 = setTimeout(closeStory1, 5000);\r\n        } else if (this.activeIndex < lastIndex1 ){\r\n          if (timerLastSlideId1) {\r\n            clearTimeout(timerLastSlideId1);\r\n            timerLastSlideId1 = null;\r\n          }\r\n        }\r\n      }\r\n    } \r\n  });\r\n\r\n\r\n\r\n  const storyPopupSwiper2 = new Swiper('.story-swiper-2', {\r\n    spaceBetween: '4%',\r\n    slidesPerView: 'auto',\r\n    autoplay: {\r\n      delay: 5000,\r\n    },\r\n    pagination: {\r\n      el: \".story-pagination-2\",\r\n      clickable: true,\r\n    },\r\n    on: {\r\n      init: function () {\r\n        lastIndex2 = this.slides.length - 1;\r\n        this.autoplay.stop();\r\n        bullets2 = this.pagination.bullets;\r\n        bullets2[this.activeIndex].classList.remove('swiper-pagination-bullet-active');\r\n      },\r\n      slideChange: function () {\r\n        checkProgress(this, this.pagination.bullets, oldIndex2);\r\n        oldIndex2 = this.activeIndex;\r\n        if (this.activeIndex == lastIndex2) {\r\n          timerLastSlideId2 = setTimeout(closeStory2, 5000);\r\n        } else if (this.activeIndex < lastIndex2 ){\r\n          if (timerLastSlideId2) {\r\n            clearTimeout(timerLastSlideId2);\r\n            timerLastSlideId2= null;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    \r\n  });\r\n  \r\n  function checkProgress(currentSwiper, currentBullets, oldIndex) {    \r\n    if (currentSwiper.activeIndex > oldIndex) {\r\n      //добавть классы просмотрено к предыдущим\r\n        for (let i = oldIndex; i < currentSwiper.activeIndex; i++) {\r\n          currentBullets[i].classList.add('story-viewed');\r\n        }\r\n      } else if (currentSwiper.activeIndex < oldIndex) {\r\n        // убрать классы просмотрено у будущих\r\n        for (let i = currentSwiper.activeIndex ; i <= oldIndex; i++) {\r\n          currentBullets[i].classList.remove('story-viewed');\r\n        }\r\n    }\r\n  }\r\n\r\nfunction closeStory1() {\r\n  storyPopupSwiper1.slideTo(0);\r\n  for (let i = 0 ; i < lastIndex1; i ++) {\r\n    bullets1[i].classList.remove('story-viewed');\r\n  }\r\n  closeWeeks.click();\r\n \r\n}\r\n\r\n\r\nfunction closeStory2() {\r\n  storyPopupSwiper2.slideTo(0);\r\n  for (let i = 0 ; i < lastIndex2; i ++) {\r\n    bullets2[i].classList.remove('story-viewed');\r\n  }\r\n  closeCashback.click();\r\n}\r\n\r\n \r\n  const weeksBtn = document.querySelector('.weeksBtn');\r\n  if (weeksBtn) {\r\n    weeksBtn.addEventListener('click', () => {\r\n      storyPopupSwiper1.autoplay.start();\r\n      bullets1[storyPopupSwiper1.activeIndex].classList.add('swiper-pagination-bullet-active');\r\n      \r\n    })\r\n  }\r\n  \r\n  const cashbackBtn = document.querySelector('.cashbackBtn');\r\n  if (cashbackBtn) {\r\n    cashbackBtn.addEventListener('click', () => {\r\n      storyPopupSwiper2.autoplay.start();\r\n      bullets2[storyPopupSwiper2.activeIndex].classList.add('swiper-pagination-bullet-active');\r\n    })\r\n  }\r\n  \r\n  \r\n    \r\n  \r\n  const infoSwiper = new Swiper('.info-swiper', {\r\n    spaceBetween: '2%',\r\n    slidesPerView: 'auto',\r\n    loop: true,\r\n    loopFillGroupWithBlank: true,\r\n  });\r\n\r\n  if (document.querySelector('.path-swiper')) {\r\n    const pathSwiper = new Swiper('.path-swiper', {\r\n      spaceBetween: '1%',\r\n      slidesPerView: 'auto',\r\n      centeredSlides: false,\r\n    });\r\n    // Хлебные крошки показываются с последенего элемента\r\n    const slidersCount = pathSwiper.slides.length;\r\n    pathSwiper.slideTo(slidersCount);\r\n  }\r\n  \r\n  \r\n  const chanceSwiper = new Swiper('.chance-swiper', {\r\n      loop: true,\r\n      slidesPerView: 2,\r\n      spaceBetween: '6%',  \r\n      navigation: {\r\n        nextEl: '.chance-button-next',\r\n      },\r\n    });\r\n  \r\n\r\n"],"mappings":"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","ignoreList":[]}