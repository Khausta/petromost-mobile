{"version":3,"file":"main.js","names":["state","path","openedPopups","search","menu","profile","profileData","myCard","address","delivertAddress","selfdeliveryAddress","catalog","login","headerElements","header","document","querySelector","logo","burger","openMenuOrCloseAllBtn","toFixHeader","classList","contains","add","body","style","overflow","removeFixHeader","remove","makeBurgerActive","addEventListener","closePopup","removeEventListener","openMenu","removeBurgerActive","popups","showModalBtns","querySelectorAll","allPopups","closeAllPopups","forEach","el","openSearchPopup","open","input","parentElement","overlay","close","trigger","content","push","openAnyModal","removeAllActivesMenuPanel","openAnyPopup","popupName","height","offsetTop","offsetHeight","returnBtns","btn","openPreviousPopup","length","concat","toPrevModal","pop","at","openMenuListModal","modalName","modalOverlay","returnBtn","modalContent","id","getAttribute","showMenuPanelModalsBtns","removeActiveMenuPanelItem","e","currentTarget","showMenuPanelModal","makeActiveMenuPanelItem","item","toPrevMenuPanelModal","showOrderDetailsBlocks","payOrderBtn","cancelOrderBtn","target","console","log","showOrderDetailsModal","orderBlock","manageCard","cardLogin","closeCard","card","profileDataInputs","value","nextElementSibling","cardBonus","toggle","mainCardBonus","dnd","triggerElement","animatedIcon","hiddenContent","arrow","maxHeight","opacity","scrollHeight","Tab","selector","options","_classCallCheck","defaultOptions","isChanged","Object","assign","tabs","tabsList","tabsButtons","tabsPanels","error","check","init","events","_createClass","key","_this","setAttribute","i","removeAttribute","_this2","currentTab","switchTabs","index","Array","prototype","indexOf","call","direction","which","focus","newTab","oldTab","arguments","undefined","oldIndex","tab1","listHendler","listHeaders","addHiddenStyle","timerId","showContent","hideContent","element","changeMaxHeight","parentNode","closest","setTimeout","openedContent","allOpenedItems","previousElementSibling","filterRadioBtns","radioBtn","innerText","focusHendler","blurHendler","cardCommentInputs","likes","goodItemsList","viewSelector","view","dataset","temp","openFullScreenModalBtns","b","fullscreenmodal","openFullScreenModal","addClosingListeners","closeFullScreenModal","parentBlock","allCloseBlocks","block"],"sources":["main.js"],"sourcesContent":["const state = {\r\n  path: [],\r\n  openedPopups: {\r\n    search: false,\r\n    menu: false,\r\n    profile: false,\r\n    profileData: false,\r\n    myCard: false,\r\n    address: false,\r\n    delivertAddress: false,\r\n    selfdeliveryAddress: false,\r\n    catalog: false,\r\n    login: false,\r\n  }\r\n}\r\nconst headerElements = {\r\n  header: document.querySelector('.header'),\r\n  logo: document.querySelector('.__js-logo'),\r\n  burger: document.querySelector('[data-modal=\"menu\"]'),\r\n  openMenuOrCloseAllBtn: document.querySelector('.menu-btn'),\r\n  toFixHeader: function() {\r\n    if (!headerElements.header.classList.contains('__js-fixed')) {\r\n      headerElements.header.classList.add('__js-fixed');\r\n    }\r\n    if (document.body.style.overflow !== 'hidden') {\r\n      document.body.style.overflow = 'hidden';\r\n    } \r\n  },\r\n  removeFixHeader() {\r\n    document.body.style.overflow = 'auto';\r\n    headerElements.header.classList.remove('__js-fixed');\r\n  },\r\n  makeBurgerActive() {\r\n    headerElements.burger.classList.add('__js_active');\r\n    headerElements.burger.addEventListener('click', closePopup);\r\n    headerElements.burger.removeEventListener('click', openMenu);\r\n  },\r\n  removeBurgerActive() {\r\n    headerElements.burger.classList.remove('__js_active');\r\n    headerElements.burger.removeEventListener('click', closePopup);\r\n    headerElements.burger.addEventListener('click', openMenu);\r\n  },\r\n}\r\n\r\n\r\nconst popups = {\r\n  showModalBtns: document.querySelectorAll('.js-show-modal'),\r\n  allPopups: document.querySelectorAll('.overlay'),\r\n  closeAllPopups() {\r\n    popups.allPopups.forEach(el => {\r\n      el.classList.remove('__js-active');\r\n    });\r\n    for (let el in state.openedPopups) {\r\n      state.openedPopups[el] = false;\r\n    }  \r\n  },\r\n  \r\n \r\nopenSearchPopup () {  //логика открытия поиска отличчается, поэтому создана отдельная функция\r\n  popups.search.open();\r\n  headerElements.toFixHeader();\r\n  popups.search.input.classList.add('__js-searchInput_active');\r\n  popups.search.input.parentElement.classList.add('__js-headerSearch_active');\r\n  headerElements.makeBurgerActive();\r\n},\r\n  'search': {\r\n    overlay: document.querySelector('#search-overlay'),\r\n    input: document.querySelector('.__js-searchInput'),\r\n    open: function() {\r\n      popups.closeAllPopups();\r\n      state.openedPopups.search = true;\r\n      popups.search.overlay.classList.add('__js-active');\r\n      headerElements.logo.classList.add('__js-logo_none');\r\n  \r\n    },\r\n    close: function() {\r\n      popups.search.overlay.classList.remove('__js-active');\r\n      headerElements.logo.classList.remove('__js-logo_none');\r\n      popups.search.input.classList.remove('__js-searchInput_active');\r\n      popups.search.input.parentElement.classList.remove('__js-headerSearch_active');\r\n    }\r\n  },\r\n  'card': {\r\n    trigger: document.querySelector('#card-magnifier'),\r\n    overlay: document.querySelector('#show-card-overlay'),\r\n    content: document.querySelector('#show-card-popup'),\r\n  },\r\n  'manageCard': {\r\n    trigger: document.querySelector('#manage-my-card-btn'),\r\n    overlay: document.querySelector('#my-card'),\r\n    content: document.querySelector('#my-card-popup'),\r\n  },\r\n  'cardLogin': {\r\n    trigger: document.querySelector('#card-login-btn'),\r\n    overlay: document.querySelector('#login-overlay_12'),\r\n    content: document.querySelector('#login-popup'),\r\n  },\r\n  'product': {\r\n       trigger: document.querySelector('#product'),\r\n       overlay: document.querySelector('#product-overlay'),\r\n       content: document.querySelector('#product-popup')\r\n   }\r\n}\r\n\r\n\r\n\r\n\r\nheaderElements.burger.addEventListener('click', openMenu); // собитие на кнопке меню-бургер\r\npopups.search.input.addEventListener('focus', () => {   //собитие на фокус инпута поиска\r\n  popups.openSearchPopup();\r\n})\r\n\r\nfunction openMenu ()  {  //отдельная функция для открытия меню \r\n  if (state.openedPopups.search) return;\r\n  state.path.push('menu');\r\n  state.openedPopups.menu = true;\r\n  headerElements.toFixHeader(); \r\n  openAnyModal('menu');\r\n  headerElements.makeBurgerActive();\r\n}\r\n\r\n\r\nfunction closePopup() {          // закрытие попапа\r\n  headerElements.removeFixHeader();\r\n  if (state.openedPopups.search) {\r\n    popups.search.close();\r\n    state.openedPopups.search = false;\r\n  }\r\n  popups.closeAllPopups();\r\n  state.path = []; \r\n  headerElements.removeBurgerActive();\r\n  removeAllActivesMenuPanel();\r\n}\r\n\r\n\r\nfunction openAnyPopup(popupName) {\r\n  popups.closeAllPopups();\r\n  state.openedPopups[popupName] = true;\r\n  headerElements.toFixHeader();\r\n  popups[popupName].overlay.classList.add('__js-active');\r\n  if(popups[popupName].content) {\r\n    popups[popupName].content.addEventListener('scroll', () => {\r\n      popups[popupName].content.style.height = document.querySelector('.menu-panel').offsetTop - headerElements.header.offsetHeight + 5 + \"px\";\r\n      });\r\n  }\r\n  popups.returnBtns.forEach(btn => {\r\n    btn.addEventListener('click', popups.openPreviousPopup);\r\n  })\r\n  if(popupName != 'search' && popupName != 'menu' && state.path[state.path.length - 1] != popupName) {\r\n    state.path.push(`${popupName}`);\r\n  }\r\n}\r\n\r\nfunction toPrevModal() {\r\n  state.path.pop();\r\n  if(state.path.length) {\r\n    openAnyModal(state.path.at(-1));\r\n  } else {\r\n    popups.closeAllPopups();\r\n    headerElements.burger.classList.remove('__js_active');\r\n    headerElements.burger.removeEventListener('click', closePopup);\r\n    headerElements.removeFixHeader();\r\n    headerElements.burger.addEventListener('click', openMenu);\r\n  }\r\n\r\n}\r\n\r\nfunction openMenuListModal(modalName) {\r\n  openAnyModal(modalName);\r\n  // openPrevModal(modalName);\r\n  const modalOverlay = document.querySelector(`#${modalName}`);\r\n  const returnBtn = modalOverlay.querySelector('.return-btn');\r\n  if (returnBtn) returnBtn.addEventListener('click', toPrevModal);\r\n}\r\n\r\n\r\nfunction openAnyModal(modalName) {\r\n  popups.closeAllPopups();\r\n  state.openedPopups[modalName] = true;\r\n  headerElements.toFixHeader();\r\n  const modalOverlay = document.querySelector(`#${modalName}`);\r\n  const modalContent = modalOverlay.querySelector('.popup');\r\n  // const returnBtn = modalOverlay.querySelector('.return-btn');\r\n  modalOverlay.classList.add('__js-active');\r\n  modalContent.addEventListener('scroll', () => {\r\n    modalContent.style.height = \r\n    document.querySelector('.menu-panel').offsetTop - \r\n    headerElements.header.offsetHeight + 5 + \"px\";\r\n    });\r\n  // if (returnBtn) returnBtn.addEventListener('click', toPrevModal);\r\n  if(modalName != 'search' && modalName != 'menu' && state.path.at(-1) != modalName) {\r\n    state.path.push(`${modalName}`);\r\n  }\r\n}\r\n\r\n\r\n// навешивание события открытия модалок на кнопки\r\npopups.showModalBtns.forEach(btn => {\r\n  btn.addEventListener('click', function () {\r\n    const id = this.getAttribute('data-modal');\r\n    openMenuListModal(id);\r\n  })\r\n})\r\n\r\nfunction removeAllActivesMenuPanel() {\r\n  showMenuPanelModalsBtns.forEach(el => removeActiveMenuPanelItem(el));\r\n}\r\n\r\nconst showMenuPanelModalsBtns = document.querySelectorAll('.js-show-menu-panel-modal');\r\nshowMenuPanelModalsBtns.forEach(el => {       // навешивание события открытия модалок на кнопки в menu-panel \r\n  el.addEventListener('click', e => {\r\n    removeAllActivesMenuPanel();\r\n    const id = e.currentTarget.getAttribute('data-modal');\r\n    showMenuPanelModal(id);\r\n    // showMenuPanelModal(e.currentTarget);\r\n    makeActiveMenuPanelItem(e.currentTarget);\r\n  });\r\n})\r\n\r\nfunction makeActiveMenuPanelItem(item) {\r\n  item.classList.add('menu-panel_active');\r\n}\r\n\r\nfunction removeActiveMenuPanelItem(item) {\r\n  item.classList.remove('menu-panel_active');\r\n}\r\n\r\nfunction toPrevMenuPanelModal() {\r\n  state.path.pop();\r\n  if(state.path.length) {\r\n    openAnyModal(state.path.at(-1));\r\n  } else {\r\n    popups.closeAllPopups();\r\n    headerElements.burger.classList.remove('__js_active');\r\n    headerElements.burger.removeEventListener('click', closePopup);\r\n    headerElements.removeFixHeader();\r\n    headerElements.burger.addEventListener('click', openMenu);\r\n    removeAllActivesMenuPanel();\r\n  }\r\n\r\n}\r\n\r\nfunction showMenuPanelModal(modalName) {   //отдельная функция для айтемов панели миню, фиксированной в нижней части экрана. Отличие в изменении массива \r\n  state.path = [];\r\n  openAnyModal(modalName);\r\n  headerElements.makeBurgerActive();\r\n  const modalOverlay = document.querySelector(`#${modalName}`);\r\n  const returnBtn = modalOverlay.querySelector('.return-btn');\r\n  if (returnBtn) returnBtn.addEventListener('click', toPrevMenuPanelModal);\r\n}\r\n\r\nconst showOrderDetailsBlocks = document.querySelectorAll('.js-show-order-details');\r\n\r\nshowOrderDetailsBlocks.forEach(el => {\r\n  el.addEventListener('click', e => {\r\n    const payOrderBtn = e.currentTarget.querySelector('.js-pay-btn');\r\n    const cancelOrderBtn = e.currentTarget.querySelector('.js-cancel-order-btn');\r\n    if(e.target === payOrderBtn) {\r\n      console.log('Оплатить заказ');\r\n      return;\r\n    }\r\n    if(e.target === cancelOrderBtn) {\r\n      console.log('Отменить заказ');\r\n      return;\r\n    } \r\n    showOrderDetailsModal(e.currentTarget); \r\n});\r\n})\r\n\r\nfunction showOrderDetailsModal(orderBlock) {   //отдельная функция для айтемов панели миню, фиксированной в нижней части экрана. Отличие в изменении массива \r\n  state.path = [];\r\n  const id = orderBlock.getAttribute('data-order');\r\n  openAnyModal(id);\r\n  headerElements.makeBurgerActive();\r\n}\r\n\r\n// manage-card\r\nif (popups.manageCard.trigger) {\r\n  popups.manageCard.trigger.addEventListener('click', () => {\r\n    headerElements.toFixHeader();\r\n    openAnyPopup('manageCard');\r\n    headerElements.openMenuOrCloseAllBtn.classList.add('__js_active');\r\n    headerElements.openMenuOrCloseAllBtn.addEventListener('click', closePopup);\r\n  });\r\n}\r\n\r\n// открытие формы регистрации\r\nif (popups.cardLogin.trigger) {\r\n  popups.cardLogin.trigger.addEventListener('click', () => {\r\n    headerElements.toFixHeader();\r\n    openAnyPopup('cardLogin');\r\n    headerElements.openMenuOrCloseAllBtn.classList.add('__js_active');\r\n    headerElements.openMenuOrCloseAllBtn.addEventListener('click', closePopup);\r\n  });\r\n}\r\n\r\n\r\n// открытие и закрытие карты участника бонусной программы\r\nfunction closeCard() {\r\n  document.body.style.overflow = 'auto';\r\n  popups.card.overlay.classList.remove('__js-active');\r\n  popups.card.overlay.removeEventListener('click', closeCard);\r\n}\r\n\r\nif (popups.card.trigger) {\r\n  popups.card.trigger.addEventListener('click', () => {\r\n    if (document.body.style.overflow !== 'hidden') {\r\n      document.body.style.overflow = 'hidden';\r\n    }\r\n    popups.card.overlay.classList.add('__js-active');\r\n    popups.card.overlay.addEventListener('click', closeCard);\r\n  });\r\n}\r\n\r\n\r\n\r\n// для инпутов Данных профиля\r\nconst profileDataInputs = document.querySelectorAll('.input-box__input');\r\nif (profileDataInputs) {\r\n  profileDataInputs.forEach(input => {\r\n    input.addEventListener('input', () => {\r\n      if (input.value) {\r\n        input.nextElementSibling.classList.add('__js-active');\r\n        input.nextElementSibling.addEventListener('click', () => {\r\n          input.value = \"\";\r\n          input.nextElementSibling.classList.remove('__js-active');\r\n        })\r\n      } else {\r\n        input.nextElementSibling.classList.remove('__js-active');\r\n      }\r\n    })\r\n  });\r\n}\r\n\r\n\r\nconst cardBonus = document.querySelector('.card__bonus');\r\nif (cardBonus) {\r\n  cardBonus.addEventListener('click', () => {\r\n    document.querySelector('.card__bonus-count').classList.toggle('__js-blur');\r\n  })\r\n}\r\n\r\nconst mainCardBonus = document.querySelector('.main-card__to-hide');\r\nif (mainCardBonus) {\r\n  mainCardBonus.addEventListener('click', () => {\r\n    document.querySelector('.main-card__bonus-number').classList.toggle('__js-blur');\r\n  })\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n// Обработка открытия контента dropdown способом\r\nfunction dnd(triggerElement, animatedIcon, hiddenContent) {\r\n  document.querySelectorAll(`.${triggerElement}`).forEach(el => {\r\n    el.addEventListener('click', () => {\r\n      const arrow = el.querySelector(`.${animatedIcon}`);\r\n      const content = el.nextElementSibling;\r\n  \r\n      if (content.style.maxHeight) {\r\n        document.querySelectorAll(`.${hiddenContent}`).forEach( item => {\r\n          item.style.maxHeight = null;\r\n          item.style.opacity = null;\r\n          }) \r\n        document.querySelectorAll(`.${animatedIcon}`).forEach(item => {\r\n          item.classList.remove('__js-opened');\r\n        })\r\n      } else {\r\n        document.querySelectorAll(`.${hiddenContent}`).forEach( item => {\r\n          item.style.maxHeight = null;\r\n          item.style.opacity = null;  \r\n        })\r\n        content.style.maxHeight = content.scrollHeight + 'px';\r\n        content.style.opacity = 1;\r\n        \r\n        document.querySelectorAll(`.${animatedIcon}`).forEach(item => {\r\n          item.classList.remove('__js-opened');\r\n        })\r\n        arrow.classList.add('__js-opened');\r\n      }\r\n    })\r\n  });\r\n  \r\n}\r\n\r\n\r\n// Открытие скрытого контента меню\r\ndnd('menu__li-with-content', 'menu-link__icon', 'menu__content');\r\n// Открытие списка магазинов\r\ndnd('dnd', 'dnd__icon', 'dnd__content');\r\n\r\n\r\n\r\n\r\n\r\nclass Tab {\r\n  constructor(selector, options) {\r\n      let defaultOptions = {\r\n          isChanged: () => {\r\n\r\n          }\r\n      }\r\n      this.options = Object.assign(defaultOptions, options); //совмезщение, перезапись\r\n      this.selector = selector;\r\n      this.tabs = document.querySelector(`[data-tabs=\"${selector}\"]`); //нахождение табов\r\n      if(this.tabs) {\r\n          this.tabsList = this.tabs.querySelector('.tabs__nav');\r\n          this.tabsButtons = this.tabs.querySelectorAll('.tabs__nav-btn');\r\n          this.tabsPanels = this.tabs.querySelectorAll('.tabs__panel');\r\n\r\n      } else {\r\n          console.error(`Нет элемента со свойством data-tabs=${selector}`);\r\n          return;\r\n      }\r\n\r\n      this.check();\r\n      this.init();\r\n      this.events();\r\n  }\r\n\r\n  check() {\r\n      if (document.querySelectorAll(`[data-tabs=\"${this.selector}]`).length > 1) {\r\n          console.error('Количество элементов с одинакомым data-tabs больше одного');\r\n          return;\r\n      }\r\n\r\n      if (this.tabsButtons.length !== this.tabsPanels.length) {\r\n          console.error('Количество табов и панелей не совпадает');\r\n          return;\r\n      }\r\n   }\r\n\r\n  init() {\r\n      this.tabsList.setAttribute('role', 'tablist');\r\n\r\n      this.tabsButtons.forEach((el, i) => {\r\n          el.setAttribute('role', 'tab');\r\n          el.setAttribute('tabindex', '-1');\r\n          el.setAttribute('id', `${this.selector}${i + 1}`); //чтобы не пересекались id\r\n          el.classList.remove('tabs__nav-btn_active');\r\n      });\r\n      this.tabsPanels.forEach((el, i) => {\r\n          el.setAttribute('role', 'tabpanel');\r\n          el.setAttribute('tabindex', '-1');\r\n          //aria-labeledBy\r\n          el.setAttribute('aria-labelledby', this.tabsButtons[i].id);\r\n          el.classList.remove('tabs__panel_active');\r\n      });\r\n\r\n      this.tabsButtons[0].classList.add('tabs__nav-btn_active');\r\n      this.tabsButtons[0].removeAttribute('tabindex');\r\n      this.tabsButtons[0].setAttribute('aria-selected', 'true');\r\n      this.tabsPanels[0].classList.add('tabs__panel_active');\r\n      \r\n  }\r\n\r\n  events() {\r\n      this.tabsButtons.forEach((el, i) => {\r\n          el.addEventListener('click', e => {\r\n              let currentTab = this.tabsList.querySelector('[aria-selected]');\r\n              if (e.currentTarget !== currentTab) {\r\n                  this.switchTabs(e.currentTarget, currentTab);\r\n              }\r\n          });\r\n\r\n          el.addEventListener('keydown', e => {\r\n              let index = Array.prototype.indexOf.call(this.tabsButtons, e.currentTarget);\r\n\r\n              let direction = null;\r\n\r\n              if (e.which === 37) {\r\n                  direction = index - 1;\r\n              } else if (e.which === 39) {\r\n                  direction = index + 1;\r\n              } else if (e.which === 40) {\r\n                  direction = 'down';\r\n              } else {\r\n                  direction = null;\r\n              }\r\n\r\n              if (direction !== null) {\r\n                  if (direction === 'down') {\r\n                      this.tabsPanels[i].focus();\r\n                  } else if (this.tabsButtons[direction]) {\r\n                      this.switchTabs(this.tabsButtons[direction], e.currentTarget);\r\n                  } else {\r\n                  }\r\n              }\r\n          })\r\n      });\r\n\r\n\r\n  }\r\n\r\n  switchTabs(newTab, oldTab = this.tabs.querySelector('[aria-selected]')) {\r\n      newTab.focus();\r\n      newTab.removeAttribute('tabindex');\r\n      newTab.setAttribute('aria-selected', 'true');\r\n\r\n      oldTab.removeAttribute('aria-selected');\r\n      oldTab.setAttribute('tabindex', '-1');\r\n\r\n      let index = Array.prototype.indexOf.call(this.tabsButtons, newTab);\r\n      let oldIndex = Array.prototype.indexOf.call(this.tabsButtons, oldTab);\r\n      this.tabsPanels[oldIndex].classList.remove('tabs__panel_active');\r\n      this.tabsPanels[index].classList.add('tabs__panel_active');\r\n      this.tabsButtons[oldIndex].classList.remove('tabs__nav-btn_active');\r\n      this.tabsButtons[index].classList.add('tabs__nav-btn_active');\r\n\r\n      this.options.isChanged(this);\r\n  }\r\n}\r\n\r\nif (document.querySelector('.tabs')) {\r\n  const tab1 = new Tab('tab', {});\r\n\r\n}\r\n\r\n\r\n\r\n\r\n// определяем все заголовки списков\r\nif (document.querySelector('.list-header')) {\r\n  listHendler();\r\n}\r\n\r\nfunction listHendler() {\r\n  const listHeaders = document.querySelectorAll('.list-header');\r\n  \r\n// добавляем всем контентам класс _js-hidden\r\nfor (let i = 0; i < listHeaders.length; i++) {\r\n  addHiddenStyle(listHeaders[i].nextElementSibling);\r\n}\r\n\r\nfunction addHiddenStyle(content) {\r\n \r\n  // content.previousSiblingELement.classList.remove('._active');\r\n  content.classList.add('_js-hidden'); \r\n  content.style.maxHeight = '0px';     // только так работает анимация изменения высоты\r\n} \r\n\r\n\r\nlet timerId;\r\n// вешаем событие клика на заголовки каждого списка\r\nlistHeaders.forEach(header => {\r\n  header.addEventListener('click', function () { \r\n      if(!timerId) {\r\n          if (header.nextElementSibling.classList.contains('_js-hidden')) {\r\n              showContent(this); // т.к. функция не стрелочная, то this будет именно тот header на который произошел клик \r\n              return;\r\n          } \r\n          hideContent(this);\r\n      }\r\n  });\r\n})\r\n\r\nfunction showContent(element) {\r\n  element.classList.add('_active');\r\n  const hiddenContent = element.nextElementSibling;\r\n  hiddenContent.classList.remove('_js-hidden');\r\n  hiddenContent.style.maxHeight = hiddenContent.scrollHeight + 'px';\r\n\r\n  function changeMaxHeight (element) {\r\n      element.parentNode.parentNode.style.maxHeight = element.parentNode.parentNode.scrollHeight + hiddenContent.scrollHeight + 'px';\r\n      if (element.parentNode.parentNode.closest('.list-content')) {\r\n          changeMaxHeight(element.parentNode.parentNode.closest('.list-content'));\r\n      }   else {\r\n          return;\r\n      }    \r\n  }\r\n  changeMaxHeight(hiddenContent);\r\n\r\n  // таймер для того, чтобы каждое событие ожидало выполнения предыдущего\r\n  timerId = setTimeout(() => {\r\n      timerId = 0;\r\n  },  300);\r\n}\r\n\r\nfunction hideContent(element) {\r\n  element.classList.remove('_active');\r\n  const openedContent = element.nextElementSibling;\r\n  addHiddenStyle(openedContent);\r\n  const allOpenedItems = openedContent.querySelectorAll('.list-content');\r\n    allOpenedItems.forEach(el => {\r\n        addHiddenStyle(el);\r\n        el.previousElementSibling.classList.remove('_active');\r\n    })\r\n  }\r\n\r\n}\r\n\r\n\r\n\r\n// Выбор фильтра поиска\r\nconst filterRadioBtns = document.querySelectorAll('[name=\"filter\"]');\r\nif (filterRadioBtns) {\r\n  filterRadioBtns.forEach(radioBtn => {\r\n    radioBtn.addEventListener('change', () => {\r\n      document.querySelector('#filter-type').innerText = `Фильтр / ${radioBtn.value}`;\r\n    })\r\n  })\r\n}\r\n\r\n\r\nconst focusHendler = (element) => {\r\n  element.classList.add('_active');\r\n\r\n}\r\n\r\nfunction blurHendler(element) {\r\n  element.classList.remove('_active');\r\n\r\n}\r\n\r\n\r\nconst cardCommentInputs = document.querySelectorAll('.good__comment-input');\r\nif (cardCommentInputs) {\r\n  cardCommentInputs.forEach(el => {\r\n    el.addEventListener('focus', () => focusHendler(el));\r\n    el.addEventListener('blur', () =>  blurHendler(el));\r\n  });\r\n}\r\n\r\n\r\n\r\n\r\n//добавление и удаление лайков\r\nconst likes = document.querySelectorAll('.like');\r\nlikes.forEach(el => {\r\n  el.addEventListener('click', () => {   \r\n    el.classList.toggle('liked');\r\n  })\r\n})\r\n\r\nconst goodItemsList = document.querySelector('ul[data-temp');\r\nconst viewSelector = document.querySelector('button[data-view]');\r\nif (viewSelector) {\r\n  viewSelector.addEventListener('click', () => {\r\n    const view =  viewSelector.dataset.view;\r\n    if (view == 'list') {\r\n      viewSelector.dataset.view = 'grid';\r\n      goodItemsList.dataset.temp = 'list';\r\n    } else {\r\n      viewSelector.dataset.view = 'list';\r\n      goodItemsList.dataset.temp = 'grid';\r\n    }\r\n  })\r\n}\r\n\r\n\r\nconst openFullScreenModalBtns = document.querySelectorAll(\".js-openFullScreenModal\");\r\nopenFullScreenModalBtns.forEach(b => {\r\n  b.addEventListener('click', () => {\r\n    const id = b.dataset.fullscreenmodal;\r\n    openFullScreenModal(id);\r\n    addClosingListeners(id);\r\n  })\r\n})\r\n\r\nfunction openFullScreenModal(id) {\r\n  document.querySelector(`#${id}`).classList.add('__js-active');\r\n  document.body.style.overflow = 'hidden';\r\n}\r\n\r\nfunction closeFullScreenModal(id) {\r\n  document.querySelector(`#${id}`).classList.remove('__js-active');\r\n  document.body.style.overflow = 'auto';\r\n}\r\n\r\nfunction addClosingListeners(id) {\r\n  const parentBlock = document.querySelector(`#${id}`);\r\n  const allCloseBlocks = parentBlock.querySelectorAll('.js_close-overlay-full-screen');\r\n  allCloseBlocks.forEach(block => {\r\n    block.addEventListener('click', () => {\r\n      closeFullScreenModal(id);\r\n    })\r\n  })\r\n}\r\n\r\n\r\n"],"mappings":"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","ignoreList":[]}